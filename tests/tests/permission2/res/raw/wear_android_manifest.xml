<?xml version="1.0" encoding="utf-8"?>
<!--
/* //device/apps/common/AndroidManifest.xml
**
** Copyright 2023, The Android Open Source Project
**
** Licensed under the Apache License, Version 2.0 (the "License");
** you may not use this file except in compliance with the License.
** You may obtain a copy of the License at
**
**     http://www.apache.org/licenses/LICENSE-2.0
**
** Unless required by applicable law or agreed to in writing, software
** distributed under the License is distributed on an "AS IS" BASIS,
** WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
** See the License for the specific language governing permissions and
** limitations under the License.
*/
-->
<!-- This file contains permissions which were back ported.
     These permissions are already present on future platform releases.
    -->
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="android" coreApp="true" android:sharedUserId="android.uid.system"
    android:sharedUserLabel="@string/android_system_label">


    <!-- Allows a companion app to start a foreground service from the background.
         {@see android.Manifest.permission#REQUEST_COMPANION_RUN_IN_BACKGROUND}
         <p>Protection level: normal
         -->
    <permission
        android:name="android.permission.REQUEST_COMPANION_START_FOREGROUND_SERVICES_FROM_BACKGROUND"
        android:protectionLevel="normal" />


    <!-- Allows app to request to be associated with a device via
         {@link android.companion.CompanionDeviceManager}
         as a "watch"
         <p>Protection level: normal
     -->
    <permission android:name="android.permission.REQUEST_COMPANION_PROFILE_WATCH"
                android:protectionLevel="normal" />
    <!-- Allows application to request to be associated with a virtual display capable of streaming
         Android applications
         ({@link android.companion.AssociationRequest#DEVICE_PROFILE_APP_STREAMING})
         by {@link android.companion.CompanionDeviceManager}.
        <p>Not for use by third-party applications.
    -->
    <permission android:name="android.permission.REQUEST_COMPANION_PROFILE_APP_STREAMING"
                android:protectionLevel="signature|privileged" />

    <!-- Allows application to request to be associated with a vehicle head unit capable of
         automotive projection
         ({@link android.companion.AssociationRequest#DEVICE_PROFILE_AUTOMOTIVE_PROJECTION})
         by {@link android.companion.CompanionDeviceManager}.
        <p>Not for use by third-party applications.
    -->
    <permission android:name="android.permission.REQUEST_COMPANION_PROFILE_AUTOMOTIVE_PROJECTION"
                android:protectionLevel="signature" />

    <!-- Allows application to request to be associated with a computer to share functionality
        and/or data with other devices, such as notifications, photos and media
        ({@link android.companion.AssociationRequest#DEVICE_PROFILE_COMPUTER})
        by {@link android.companion.CompanionDeviceManager}.
       <p>Not for use by third-party applications.
   -->
    <permission android:name="android.permission.REQUEST_COMPANION_PROFILE_COMPUTER"
                android:protectionLevel="signature|privileged" />
    <!-- Allows an application to create a "self-managed" association.
    -->
    <permission android:name="android.permission.REQUEST_COMPANION_SELF_MANAGED"
                android:protectionLevel="signature|privileged" />

    <!-- Must be required by any
         {@link android.companion.CompanionDeviceService}s
         to ensure that only the system can bind to it. -->
    <permission android:name="android.permission.BIND_COMPANION_DEVICE_SERVICE"
                android:protectionLevel="signature" />

    <!-- Allows an application to subscribe to notifications about the presence status change
         of their associated companion device
         -->
    <permission android:name="android.permission.REQUEST_OBSERVE_COMPANION_DEVICE_PRESENCE"
                android:protectionLevel="normal" />

    <!-- Allows an application to deliver companion messages to system
         -->
    <permission android:name="android.permission.DELIVER_COMPANION_MESSAGES"
                android:protectionLevel="normal" />
    <!-- Allows an application to create new companion device associations.
         @SystemApi
         @hide -->
    <permission android:name="android.permission.ASSOCIATE_COMPANION_DEVICES"
                android:protectionLevel="signature" />

</manifest>
